<script>

fetch('prado.csv')

.then(response => response.text())

.then(data => {

let rows = data.split('\n').slice(1);

let labels=[];
let prices=[];
let manufacture=[];
let imported=[];
let engines=[];

rows.forEach(row=>{

let cols=row.split(',');

// IMPORTANT:
// check column order matches CSV

let price=cols[36]; // price_1
let man=cols[38]; // man_date
let imp=cols[39]; // import_date
let engine=cols[42]; // engine

if(price){

labels.push(man); // show manufacture year

prices.push(parseFloat(price));

manufacture.push(man);

imported.push(imp);

engines.push(engine);

}

});

const ctx=document.getElementById('chart');

new Chart(ctx,{

type:'line',

data:{

labels:labels,

datasets:[{

label:'Prado Price (â‚®)',

data:prices

}]

}

});

});

</script>
